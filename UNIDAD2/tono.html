<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrays y Metodos</title>

    <!-- Agrega enlaces a Bootstrap 5 CSS y JS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</head>
<body class="d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="container text-center">
        <h1>Arrays, Metodos de ordenamiento y Busqueda</h1>
        <p>Presiona el botón para mostrar los números en orden aleatorio:</p>
        <button id="mostrarArregloBtn" class="btn btn-secondary">Generar Nuevo Arreglo</button>
        <button id="ordenarArregloBtn" class="btn btn-primary">Ordenar Arreglo (Burbuja)</button>
        <button id="ordenarShellBtn" class="btn btn-success">Ordenar con Shell</button>
        <ul id="resultado" class="mt-3"></ul>

        <!-- Campo de entrada para búsqueda -->
        <div class="form-group mt-4">
            <label for="elementoBusqueda">Elemento a Buscar:</label>
            <input type="number" class="form-control" id="elementoBusqueda">
        </div>

        <!-- Botones para realizar búsquedas -->
        <button id="busquedaSecuencialBtn" class="btn btn-info mt-2">Buscar (Secuencial)</button>
        <button id="busquedaBinariaBtn" class="btn btn-warning mt-2">Buscar (Binaria)</button>
        <p id="resultadoBusqueda" class="mt-3"></p>

        <!-- Agrega esto debajo de los botones de ordenación -->
        <div id="ordenacionMensaje" class="mt-3"></div>
    </div>

    <script>
        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        var arreglo = [];
        var resultado = document.getElementById("resultado");
        var elementoBusquedaInput = document.getElementById("elementoBusqueda");
        var resultadoBusqueda = document.getElementById("resultadoBusqueda");

        var mostrarArregloBtn = document.getElementById("mostrarArregloBtn");
        var ordenarArregloBtn = document.getElementById("ordenarArregloBtn");
        var ordenarShellBtn = document.getElementById("ordenarShellBtn");

        mostrarArregloBtn.addEventListener("click", function () {
            generarNuevoArreglo();
            mostrarArregloAleatorio();
        });

        ordenarArregloBtn.addEventListener("click", function () {
            ordenarArreglo();
        });

        ordenarShellBtn.addEventListener("click", function () {
            ordenarConShell();
        });

        document.getElementById("busquedaSecuencialBtn").addEventListener("click", function () {
            var elementoBuscado = parseInt(elementoBusquedaInput.value, 10);
            var indice = busquedaSecuencial(arreglo, elementoBuscado);
            mostrarResultadoBusqueda(indice, elementoBuscado);
        });

        document.getElementById("busquedaBinariaBtn").addEventListener("click", function () {
            var elementoBuscado = parseInt(elementoBusquedaInput.value, 10);
            var indice = busquedaBinaria(arreglo, elementoBuscado);
            mostrarResultadoBusqueda(indice, elementoBuscado);
        });

        function generarNuevoArreglo() {
            arreglo = []; // Limpiamos el arreglo existente
            for (var i = 0; i < 10; i++) {
                arreglo.push(getRandomNumber(-100, 100));
            }
        }

        function mostrarArregloAleatorio() {
            var arregloAleatorio = arreglo.slice(); // Hacemos una copia del arreglo
            shuffleArray(arregloAleatorio); // Barajamos los elementos en orden aleatorio

            resultado.innerHTML = ""; // Limpiamos la lista antes de mostrar los números

            arregloAleatorio.forEach(function (numero) {
                var listItem = document.createElement("li");
                listItem.textContent = numero;
                resultado.appendChild(listItem);
            });
        }

        function ordenarArreglo() {
            // Ordena el arreglo original
            for (var i = 0; i < arreglo.length - 1; i++) {
                for (var j = 0; j < arreglo.length - 1 - i; j++) {
                    if (arreglo[j] > arreglo[j + 1]) {
                        var temp = arreglo[j];
                        arreglo[j] = arreglo[j + 1];
                        arreglo[j + 1] = temp;
                    }
                }
            }

            mostrarOrdenacionMensaje("Burbuja");
            mostrarArregloOrdenado();
        }

        function ordenarConShell() {
            // Ordena el arreglo original
            var n = arreglo.length;
            for (var gap = Math.floor(n / 2); gap > 0; gap = Math.floor(gap / 2)) {
                for (var i = gap; i < n; i++) {
                    var temp = arreglo[i];
                    var j;
                    for (j = i; j >= gap && arreglo[j - gap] > temp; j -= gap) {
                        arreglo[j] = arreglo[j - gap];
                    }
                    arreglo[j] = temp;
                }
            }

            mostrarOrdenacionMensaje("Shell"); // Muestra el mensaje
            mostrarArregloOrdenado(); // Muestra el arreglo ordenado
        }

        // Función para barajar un arreglo en orden aleatorio
        function shuffleArray(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                var temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
        }

        function mostrarOrdenacionMensaje(metodo) {
            var ordenacionMensaje = document.getElementById("ordenacionMensaje");
            ordenacionMensaje.textContent = `Arreglo ordenado con ${metodo}.`;
        }

        function mostrarArregloOrdenado() {
            var arregloOrdenado = arreglo.slice(); // Hacemos una copia del arreglo
            resultado.innerHTML = ""; // Limpiamos la lista antes de mostrar los números

            arregloOrdenado.forEach(function (numero) {
                var listItem = document.createElement("li");
                listItem.textContent = numero;
                resultado.appendChild(listItem);
            });
        }

        function mostrarResultadoBusqueda(indice, elementoBuscado) {
            if (indice !== -1) {
                resultadoBusqueda.textContent = `El elemento ${elementoBuscado} se encuentra en el índice ${indice}.`;
            } else {
                resultadoBusqueda.textContent = `El elemento ${elementoBuscado} no se encuentra en el arreglo.`;
            }
        }

        function busquedaSecuencial(arreglo, elemento) {
            for (var i = 0; i < arreglo.length; i++) {
                if (arreglo[i] === elemento) {
                    return i; // Elemento encontrado, devuelve el índice
                }
            }
            return -1; // Elemento no encontrado, devuelve -1
        }

        function busquedaBinaria(arreglo, elemento) {
            var izquierda = 0;
            var derecha = arreglo.length - 1;

            while (izquierda <= derecha) {
                var mitad = Math.floor((izquierda + derecha) / 2);
                if (arreglo[mitad] === elemento) {
                    return mitad; // Elemento encontrado, devuelve el índice
                } else if (arreglo[mitad] < elemento) {
                    izquierda = mitad + 1;
                } else {
                    derecha = mitad - 1;
                }
            }
            return -1; // Elemento no encontrado, devuelve -1
        }
    </script>
</body>
</html>